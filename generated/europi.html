<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>europi &mdash; EuroPi  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="configuration" href="configuration.html" />
    <link rel="prev" title="API" href="../api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> EuroPi
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">europi</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="europi_script.html">europi_script</a></li>
<li class="toctree-l2"><a class="reference internal" href="ui.html">ui</a></li>
<li class="toctree-l2"><a class="reference internal" href="experimental.html">experimental</a></li>
<li class="toctree-l2"><a class="reference internal" href="experimental.knobs.html">experimental.knobs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">EuroPi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../api.html">API</a> &raquo;</li>
      <li>europi</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/generated/europi.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-europi">
<span id="europi"></span><h1>europi<a class="headerlink" href="#module-europi" title="Permalink to this heading"></a></h1>
<p>Rory Allen 2024 Apache License Version 2.0</p>
<p>Before using any of this library, follow the instructions in
<a class="reference external" href="https://github.com/Allen-Synthesis/EuroPi/blob/main/software/programming_instructions.md">programming_instructions.md</a>
to set up your module.</p>
<p>The EuroPi library is a single file named europi.py. It should be imported into any custom program by using <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">europi</span> <span class="pre">import</span> <span class="pre">*</span></code> to give you full access to the functions within, which are outlined below. Inputs and outputs are used as objects, which each have methods to allow them to be used. These methods are used by using the name of the object, for example ‘cv3’ followed by a ‘.’ and then the method name, and finally a pair of brackets containing any parameters that the method requires.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cv3</span><span class="o">.</span><span class="n">voltage</span><span class="p">(</span><span class="mf">4.5</span><span class="p">)</span>
</pre></div>
</div>
<p>Will set the CV output 3 to a voltage of 4.5V.</p>
<dl class="py class">
<dt class="sig sig-object py" id="europi.AnalogueInput">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">europi.</span></span><span class="sig-name descname"><span class="pre">AnalogueInput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_voltage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_voltage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.AnalogueInput" title="Permalink to this definition"></a></dt>
<dd><p>A class for handling the reading of analogue control voltage.</p>
<p>The analogue input allows you to ‘read’ CV from anywhere between 0 and 12V.</p>
<p>It is protected for the entire Eurorack range, so don’t worry about
plugging in a bipolar source, it will simply be clipped to 0-12V.</p>
<p>The functions all take an optional parameter of <code class="docutils literal notranslate"><span class="pre">samples</span></code>, which will
oversample the ADC and then take an average, which will take more time per
reading, but will give you a statistically more accurate result. The
default is 32, provides a balance of performance vs accuracy, but if you
want to process at the maximum speed you can use as little as 1, and the
processor won’t bog down until you get way up into the thousands if you
wan’t incredibly accurate (but quite slow) readings.</p>
<p>The percent function takes an optional parameter <code class="docutils literal notranslate"><span class="pre">deadzone</span></code>. However this
parameter is ignored and just present to be compatible with the percent
function of the AnalogueReader and Knob classes</p>
<dl class="py method">
<dt class="sig sig-object py" id="europi.AnalogueInput.choice">
<span class="sig-name descname"><span class="pre">choice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.AnalogueInput.choice" title="Permalink to this definition"></a></dt>
<dd><p>Return a value from a list chosen by the current voltage value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.AnalogueInput.percent">
<span class="sig-name descname"><span class="pre">percent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.AnalogueInput.percent" title="Permalink to this definition"></a></dt>
<dd><p>Current voltage as a relative percentage of the component’s range.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.AnalogueInput.range">
<span class="sig-name descname"><span class="pre">range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.AnalogueInput.range" title="Permalink to this definition"></a></dt>
<dd><p>Return a value (upper bound excluded) chosen by the current voltage value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.AnalogueInput.set_deadzone">
<span class="sig-name descname"><span class="pre">set_deadzone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deadzone</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.AnalogueInput.set_deadzone" title="Permalink to this definition"></a></dt>
<dd><p>Override the default deadzone with the given value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.AnalogueInput.set_samples">
<span class="sig-name descname"><span class="pre">set_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.AnalogueInput.set_samples" title="Permalink to this definition"></a></dt>
<dd><p>Override the default number of sample reads with the given value.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="europi.AnalogueReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">europi.</span></span><span class="sig-name descname"><span class="pre">AnalogueReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.AnalogueReader" title="Permalink to this definition"></a></dt>
<dd><p>A base class for common analogue read methods.</p>
<p>This class in inherited by classes like Knob and AnalogueInput and does
not need to be used by user scripts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="europi.AnalogueReader.choice">
<span class="sig-name descname"><span class="pre">choice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.AnalogueReader.choice" title="Permalink to this definition"></a></dt>
<dd><p>Return a value from a list chosen by the current voltage value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.AnalogueReader.percent">
<span class="sig-name descname"><span class="pre">percent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.AnalogueReader.percent" title="Permalink to this definition"></a></dt>
<dd><p>Return the percentage of the component’s current relative range.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.AnalogueReader.range">
<span class="sig-name descname"><span class="pre">range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.AnalogueReader.range" title="Permalink to this definition"></a></dt>
<dd><p>Return a value (upper bound excluded) chosen by the current voltage value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.AnalogueReader.set_deadzone">
<span class="sig-name descname"><span class="pre">set_deadzone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deadzone</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.AnalogueReader.set_deadzone" title="Permalink to this definition"></a></dt>
<dd><p>Override the default deadzone with the given value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.AnalogueReader.set_samples">
<span class="sig-name descname"><span class="pre">set_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.AnalogueReader.set_samples" title="Permalink to this definition"></a></dt>
<dd><p>Override the default number of sample reads with the given value.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="europi.Button">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">europi.</span></span><span class="sig-name descname"><span class="pre">Button</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debounce_delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Button" title="Permalink to this definition"></a></dt>
<dd><p>A class for handling push button behavior.</p>
<p>Button instances have a method <code class="docutils literal notranslate"><span class="pre">last_pressed()</span></code>
(similar to <code class="docutils literal notranslate"><span class="pre">DigitalInput.last_triggered()</span></code>) which can be used by your
script to help perform some action or behavior relative to when the button
was last pressed (or input trigger received). For example, if you want to
call a function to display a message that a button was pressed, you could
add the following code to your main script loop:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Inside the main loop...</span>
<span class="k">if</span> <span class="n">b1</span><span class="o">.</span><span class="n">last_pressed</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">ticks_diff</span><span class="p">(</span><span class="n">ticks_ms</span><span class="p">(),</span> <span class="n">b1</span><span class="o">.</span><span class="n">last_pressed</span><span class="p">())</span> <span class="o">&lt;</span> <span class="mi">2000</span><span class="p">:</span>
    <span class="c1"># Call this during the 2000 ms duration after button press.</span>
    <span class="n">display_button_pressed</span><span class="p">()</span>
</pre></div>
</div>
<p>Note, if a button has not yet been pressed, the <code class="docutils literal notranslate"><span class="pre">last_pressed()</span></code> default
return value is 0, so you may want to add the check <cite>if b1.last_pressed() &gt; 0</cite>
before you check the elapsed duration to ensure the button has been
pressed. This is also useful when checking if the digital input has been
triggered with the <code class="docutils literal notranslate"><span class="pre">DigitalInput.last_triggered()</span></code> method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="europi.Button.handler">
<span class="sig-name descname"><span class="pre">handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Button.handler" title="Permalink to this definition"></a></dt>
<dd><p>Define the callback function to call when rising edge detected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Button.handler_falling">
<span class="sig-name descname"><span class="pre">handler_falling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Button.handler_falling" title="Permalink to this definition"></a></dt>
<dd><p>Define the callback function to call when falling edge detected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Button.last_pressed">
<span class="sig-name descname"><span class="pre">last_pressed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#europi.Button.last_pressed" title="Permalink to this definition"></a></dt>
<dd><p>Return the ticks_ms of the last button press</p>
<p>If the button has not yet been pressed, the default return value is 0.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Button.value">
<span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#europi.Button.value" title="Permalink to this definition"></a></dt>
<dd><p>The current binary value, HIGH (1) or LOW (0).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="europi.DigitalInput">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">europi.</span></span><span class="sig-name descname"><span class="pre">DigitalInput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debounce_delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.DigitalInput" title="Permalink to this definition"></a></dt>
<dd><p>A class for handling reading of the digital input.</p>
<p>The Digital Input jack can detect a HIGH signal when recieving voltage &gt;
0.8v and will be LOW when below.</p>
<p>To use the handler method, you simply define whatever you want to happen
when a button or the digital input is triggered, and then use
<code class="docutils literal notranslate"><span class="pre">x.handler(new_function)</span></code>. Do not include the brackets for the function,
and replace the ‘x’ in the example with the name of your input, either
<code class="docutils literal notranslate"><span class="pre">b1</span></code>, <code class="docutils literal notranslate"><span class="pre">b2</span></code>, or <code class="docutils literal notranslate"><span class="pre">din</span></code>.</p>
<p>Here is another example how you can write digital input handlers to react
to a clock source and match its trigger duration.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@din</span><span class="o">.</span><span class="n">handler</span>
<span class="k">def</span> <span class="nf">gate_on</span><span class="p">():</span>
    <span class="c1"># Trigger outputs with a probability set by knobs.</span>
    <span class="n">cv1</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">random</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">k1</span><span class="o">.</span><span class="n">percent</span><span class="p">())</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">random</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">k2</span><span class="o">.</span><span class="n">percent</span><span class="p">())</span>

<span class="nd">@din</span><span class="o">.</span><span class="n">handler_falling</span>
<span class="k">def</span> <span class="nf">gate_off</span><span class="p">():</span>
    <span class="c1"># Turn off all triggers on falling clock trigger to match clock.</span>
    <span class="n">cv1</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
</pre></div>
</div>
<p>When writing a handler, try to keep the code as minimal as possible.
Ideally handlers should be used to change state and allow your main loop
to change behavior based on the altered state. See <a class="reference external" href="https://docs.micropython.org/en/latest/reference/isr_rules.html#tips-and-recommended-practices">tips</a>
from the MicroPython documentation for more details.</p>
<dl class="py method">
<dt class="sig sig-object py" id="europi.DigitalInput.handler">
<span class="sig-name descname"><span class="pre">handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.DigitalInput.handler" title="Permalink to this definition"></a></dt>
<dd><p>Define the callback function to call when rising edge detected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.DigitalInput.handler_falling">
<span class="sig-name descname"><span class="pre">handler_falling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.DigitalInput.handler_falling" title="Permalink to this definition"></a></dt>
<dd><p>Define the callback function to call when falling edge detected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.DigitalInput.last_triggered">
<span class="sig-name descname"><span class="pre">last_triggered</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#europi.DigitalInput.last_triggered" title="Permalink to this definition"></a></dt>
<dd><p>Return the ticks_ms of the last trigger.</p>
<p>If the button has not yet been pressed, the default return value is 0.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.DigitalInput.value">
<span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#europi.DigitalInput.value" title="Permalink to this definition"></a></dt>
<dd><p>The current binary value, HIGH (1) or LOW (0).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="europi.DigitalReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">europi.</span></span><span class="sig-name descname"><span class="pre">DigitalReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debounce_delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.DigitalReader" title="Permalink to this definition"></a></dt>
<dd><p>A base class for common digital inputs methods.</p>
<p>This class in inherited by classes like Button and DigitalInput and does
not need to be used by user scripts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="europi.DigitalReader.handler">
<span class="sig-name descname"><span class="pre">handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.DigitalReader.handler" title="Permalink to this definition"></a></dt>
<dd><p>Define the callback function to call when rising edge detected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.DigitalReader.handler_falling">
<span class="sig-name descname"><span class="pre">handler_falling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.DigitalReader.handler_falling" title="Permalink to this definition"></a></dt>
<dd><p>Define the callback function to call when falling edge detected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.DigitalReader.value">
<span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#europi.DigitalReader.value" title="Permalink to this definition"></a></dt>
<dd><p>The current binary value, HIGH (1) or LOW (0).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="europi.Display">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">europi.</span></span><span class="sig-name descname"><span class="pre">Display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Display" title="Permalink to this definition"></a></dt>
<dd><p>A class for drawing graphics and text to the OLED.</p>
<p>The OLED Display works by collecting all the applied commands and only
updates the physical display when <code class="docutils literal notranslate"><span class="pre">oled.show()</span></code> is called. This allows
you to perform more complicated graphics without slowing your program, or
to perform the calculations for other functions, but only update the
display every few steps to prevent lag.</p>
<p>To clear the display, simply fill the display with the colour black by using <code class="docutils literal notranslate"><span class="pre">oled.fill(0)</span></code></p>
<p>More explanations and tips about the the display can be found in the oled_tips file
<a class="reference external" href="https://github.com/Allen-Synthesis/EuroPi/blob/main/software/oled_tips.md">oled_tips.md</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="europi.Display.centre_text">
<span class="sig-name descname"><span class="pre">centre_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_first</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Display.centre_text" title="Permalink to this definition"></a></dt>
<dd><p>Display one or more lines of text centred both horizontally and vertically.</p>
<p>&#64;param text  The text to display
&#64;param clear_first  If true, the screen buffer is cleared before rendering the text
&#64;param auto_show  If true, oled.show() is called after rendering the text. If false, you must call oled.show() yourself</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Display.rotate">
<span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rotate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Display.rotate" title="Permalink to this definition"></a></dt>
<dd><p>Flip the screen from its default orientation</p>
<p>&#64;param rotate  True or False, indicating whether we want to flip the screen from its default orientation</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="europi.Knob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">europi.</span></span><span class="sig-name descname"><span class="pre">Knob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Knob" title="Permalink to this definition"></a></dt>
<dd><p>A class for handling the reading of knob voltage and position.</p>
<p>Read_position has a default value of 100, meaning if you simply use
<code class="docutils literal notranslate"><span class="pre">kx.read_position()</span></code> you will return a whole number percent style value
from 0-100.</p>
<p>There is also the optional parameter of <code class="docutils literal notranslate"><span class="pre">samples</span></code> (which must come after the
normal parameter), the same as the analogue input uses (the knob positions
are ‘read’ via an analogue to digital converter). It has a default value
of 256, but you can use higher or lower depending on if you value speed or
accuracy more. If you really want to avoid ‘noise’ which would present as
a flickering value despite the knob being still, then I’d suggest using
higher samples (and probably a smaller number to divide the position by).
The default <code class="docutils literal notranslate"><span class="pre">samples</span></code> value can also be set using the <code class="docutils literal notranslate"><span class="pre">set_samples()</span></code>
method, which will then be used on all analogue read calls for that
component.</p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">deadzone</span></code> parameter can be used to place deadzones at both
positions (all the way left and right) of the knob to make sure the full range
is available on all builds. The default value is 0.01 (resulting in 1% of the
travel used as deadzone on each side). There is usually no need to change this.</p>
<p>Additionally, the <code class="docutils literal notranslate"><span class="pre">choice()</span></code> method can be used to select a value from a
list of values based on the knob’s position:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">clock_division</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">k1</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">32</span><span class="p">])</span>
</pre></div>
</div>
<p>When the knob is all the way to the left, the return value will be <code class="docutils literal notranslate"><span class="pre">1</span></code>,
at 12 o’clock it will return the mid point value of <code class="docutils literal notranslate"><span class="pre">5</span></code> and when fully
clockwise, the last list item of <code class="docutils literal notranslate"><span class="pre">32</span></code> will be returned.</p>
<p>The ADCs used to read the knob position are only 12 bit, which means that
any read_position value above 4096 (2^12) will not actually be any finer
resolution, but will instead just go up in steps. For example using 8192
would only return values which go up in steps of 2.</p>
<dl class="py method">
<dt class="sig sig-object py" id="europi.Knob.choice">
<span class="sig-name descname"><span class="pre">choice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Knob.choice" title="Permalink to this definition"></a></dt>
<dd><p>Return a value from a list chosen by the current voltage value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Knob.percent">
<span class="sig-name descname"><span class="pre">percent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Knob.percent" title="Permalink to this definition"></a></dt>
<dd><p>Return the knob’s position as relative percentage.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Knob.range">
<span class="sig-name descname"><span class="pre">range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Knob.range" title="Permalink to this definition"></a></dt>
<dd><p>Return a value (upper bound excluded) chosen by the current voltage value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Knob.read_position">
<span class="sig-name descname"><span class="pre">read_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Knob.read_position" title="Permalink to this definition"></a></dt>
<dd><p>Returns the position as a value between zero and provided integer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Knob.set_deadzone">
<span class="sig-name descname"><span class="pre">set_deadzone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deadzone</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Knob.set_deadzone" title="Permalink to this definition"></a></dt>
<dd><p>Override the default deadzone with the given value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Knob.set_samples">
<span class="sig-name descname"><span class="pre">set_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Knob.set_samples" title="Permalink to this definition"></a></dt>
<dd><p>Override the default number of sample reads with the given value.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="europi.Output">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">europi.</span></span><span class="sig-name descname"><span class="pre">Output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_voltage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_voltage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Output" title="Permalink to this definition"></a></dt>
<dd><p>A class for sending digital or analogue voltage to an output jack.</p>
<p>The outputs are capable of providing 0-10V, which can be achieved using
the <code class="docutils literal notranslate"><span class="pre">cvx.voltage()</span></code> method.</p>
<p>So that there is no chance of not having the full range, the chosen
resistor values actually give you a range of about 0-10.5V, which is why
calibration is important if you want to be able to output precise voltages.</p>
<dl class="py method">
<dt class="sig sig-object py" id="europi.Output.off">
<span class="sig-name descname"><span class="pre">off</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#europi.Output.off" title="Permalink to this definition"></a></dt>
<dd><p>Set the voltage LOW at 0 volts.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Output.on">
<span class="sig-name descname"><span class="pre">on</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#europi.Output.on" title="Permalink to this definition"></a></dt>
<dd><p>Set the voltage HIGH at 5 volts.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Output.toggle">
<span class="sig-name descname"><span class="pre">toggle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#europi.Output.toggle" title="Permalink to this definition"></a></dt>
<dd><p>Invert the Output’s current state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Output.value">
<span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Output.value" title="Permalink to this definition"></a></dt>
<dd><p>Sets the output to 0V or 5V based on a binary input, 0 or 1.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="europi.Output.voltage">
<span class="sig-name descname"><span class="pre">voltage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">voltage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.Output.voltage" title="Permalink to this definition"></a></dt>
<dd><p>Set the output voltage to the provided value within the range of 0 to 10.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="europi.bootsplash">
<span class="sig-prename descclassname"><span class="pre">europi.</span></span><span class="sig-name descname"><span class="pre">bootsplash</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#europi.bootsplash" title="Permalink to this definition"></a></dt>
<dd><p>Display the EuroPi version when booting.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="europi.clamp">
<span class="sig-prename descclassname"><span class="pre">europi.</span></span><span class="sig-name descname"><span class="pre">clamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#europi.clamp" title="Permalink to this definition"></a></dt>
<dd><p>Returns a value that is no lower than ‘low’ and no higher than ‘high’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="europi.reset_state">
<span class="sig-prename descclassname"><span class="pre">europi.</span></span><span class="sig-name descname"><span class="pre">reset_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#europi.reset_state" title="Permalink to this definition"></a></dt>
<dd><p>Return device to initial state with all components off and handlers reset.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="europi.turn_off_all_cvs">
<span class="sig-prename descclassname"><span class="pre">europi.</span></span><span class="sig-name descname"><span class="pre">turn_off_all_cvs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#europi.turn_off_all_cvs" title="Permalink to this definition"></a></dt>
<dd><p>Calls cv.off() for every cv in cvs. This is done commonly enough in
contrib scripts that a function seems useful.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../api.html" class="btn btn-neutral float-left" title="API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="configuration.html" class="btn btn-neutral float-right" title="configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Rory Allen.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>